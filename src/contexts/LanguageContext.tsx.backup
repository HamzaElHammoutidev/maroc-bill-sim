import React, { createContext, useState, useContext, useEffect, ReactNode } from 'react';

type Language = 'fr' | 'ar';

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

interface LanguageProviderProps {
  children: ReactNode;
}

// Simple translations for demonstration
const translations: Record<Language, Record<string, string>> = {
  fr: {
    // Auth
    'login.title': 'Connexion',
    'login.email': 'Email',
    'login.password': 'Mot de passe',
    'login.role': 'Rôle',
    'login.button': 'Se connecter',
    'login.remember': 'Se souvenir de moi',
    
    // Navigation
    'nav.dashboard': 'Tableau de bord',
    'nav.clients': 'Clients',
    'nav.products': 'Produits',
    'nav.invoices': 'Factures',
    'nav.quotes': 'Devis',
    'nav.payments': 'Paiements',
    'nav.reports': 'Rapports',
    'nav.settings': 'Paramètres',
    'nav.logout': 'Déconnexion',
    'nav.stock': 'Gestion de stock',
    'navigation.stock': 'Gestion de stock',
    
    // Dashboard
    'dashboard.title': 'Tableau de bord',
    'dashboard.welcome': 'Bienvenue sur MarocBill',
    'dashboard.total_sales': 'Ventes totales',
    'dashboard.pending_invoices': 'Factures en attente',
    'dashboard.overdue_invoices': 'Factures en retard',
    'dashboard.paid_invoices': 'Factures payées',
    'dashboard.recent_activity': 'Activité récente',
    'dashboard.monthly_revenue': 'Revenus mensuels',
    'dashboard.top_clients': 'Meilleurs clients',
    'dashboard.data_refreshed': 'Données actualisées',
    'dashboard.refresh_success': 'Les données du tableau de bord ont été actualisées',
    'dashboard.revenue_description': 'Suivi des revenus au cours des derniers mois',
    'dashboard.revenue': 'Revenu',
    'dashboard.clients_description': 'Clients générant le plus de revenus',
    'dashboard.activity_description': 'Dernières factures et transactions',
    
    // Clients
    'clients.title': 'Clients',
    'clients.add': 'Ajouter un client',
    'clients.search': 'Rechercher un client',
    'clients.name': 'Nom',
    'clients.ice': 'ICE',
    'clients.if': 'IF',
    'clients.rc': 'RC',
    'clients.email': 'Email',
    'clients.phone': 'Téléphone',
    'clients.address': 'Adresse',
    'clients.city': 'Ville',
    'clients.actions': 'Actions',
    'clients.contact_name': 'Nom du contact',
    'clients.company_name': 'Raison sociale',
    'clients.first_name': 'Prénom',
    'clients.last_name': 'Nom',
    'clients.website': 'Site web',
    'clients.delivery_address': 'Adresse de livraison',
    'clients.postal_address': 'Adresse postale',
    'clients.add_address': 'Ajouter une adresse',
    'clients.cnss': 'CNSS',
    'clients.legal_information': 'Informations légales et fiscales',
    'clients.general_information': 'Informations générales',
    'clients.contacts': 'Personnes de contact',
    'clients.add_contact': 'Ajouter un contact',
    'clients.contact_role': 'Rôle',
    'clients.contact_phone': 'Téléphone',
    'clients.contact_email': 'Email',
    'clients.payment_method': 'Mode de paiement préféré',
    'clients.payment_terms': 'Conditions de paiement',
    'clients.payment_terms.immediate': 'Paiement immédiat',
    'clients.payment_terms.15days': '15 jours',
    'clients.payment_terms.30days': '30 jours',
    'clients.payment_terms.60days': '60 jours',
    'clients.payment_terms.90days': '90 jours',
    'clients.payment_terms.custom': 'Personnalisé',
    'clients.installment_payment': 'Paiement échelonné',
    'clients.groups': 'Groupes de clients',
    'clients.groups.add': 'Ajouter un groupe',
    'clients.groups.edit': 'Modifier le groupe',
    'clients.groups.delete': 'Supprimer le groupe',
    'clients.groups.vip': 'VIP',
    'clients.groups.regular': 'Régulier',
    'clients.groups.prospect': 'Prospect',
    'clients.groups.inactive': 'Inactif',
    'clients.groups.add_to_group': 'Ajouter au groupe',
    'clients.history': 'Historique client',
    'clients.history.invoices': 'Factures',
    'clients.history.quotes': 'Devis',
    'clients.history.payments': 'Paiements',
    'clients.history.amount_paid': 'Montants payés',
    'clients.history.amount_due': 'Montants dus',
    'clients.history.late_payments': 'Retards de paiement',
    'clients.history.total_vat': 'Total TVA facturée',
    'clients.account_statement': 'Relevé de compte client',
    'clients.account_statement.balance': 'Solde',
    'clients.account_statement.deposits': 'Acomptes',
    'clients.account_statement.transactions': 'Transactions',
    'clients.multi_company': 'Multi-entreprises',
    'clients.multi_company.switch': 'Changer d\'entreprise',
    'clients.multi_company.client_base': 'Base clients',
    'clients.details': 'Détails du client',
    'clients.details_desc': 'Consultez les informations complètes du client',
    'clients.add_description': 'Ajouter un nouveau client à votre base de données',
    'clients.validation_error': 'Veuillez remplir tous les champs obligatoires',
    'clients.added_success': 'Client ajouté avec succès',
    'clients.editing': 'Modification du client',
    'clients.deleting': 'Suppression du client',
    'clients.updated_success': 'Client mis à jour avec succès',
    'clients.deleted_success': 'Client supprimé avec succès',
    'clients.export': 'Exporter les clients',
    'clients.export_success': 'Clients exportés avec succès',
    'clients.edit': 'Modifier le client',
    'clients.edit_description': 'Modifiez les informations du client',
    'clients.delete_confirmation': 'Confirmer la suppression',
    'clients.delete_warning': 'Êtes-vous sûr de vouloir supprimer ce client? Cette action est irréversible.',
    'clients.no_results': 'Aucun client trouvé',
    'clients.no_clients': 'Aucun client disponible',
    'clients.viewing': 'Consultation du client',
    'clients.not_found': 'Client non trouvé',
    'clients.legal_info': 'Informations légales',
    'clients.contact_info': 'Informations de contact',
    'clients.payment_info': 'Informations de paiement',
    'clients.category.label': 'Catégorie',
    'clients.category.select': 'Sélectionner une catégorie',
    'clients.category.all': 'Tous',
    'clients.category.VIP': 'VIP',
    'clients.category.regular': 'Régulier',
    'clients.category.prospect': 'Prospect',
    'clients.preferredPaymentMethod': 'Méthode de paiement préférée',
    'clients.payment_select': 'Sélectionner une méthode de paiement',
    'clients.paymentTerms': 'Conditions de paiement',
    'clients.payment': 'Paiement',
    'clients.terms': 'Conditions',
    
    // Contacts management
    'clients.contacts.title': 'Contacts',
    'clients.contacts.add': 'Ajouter un contact',
    'clients.contacts.new': 'Nouveau contact',
    'clients.contacts.name': 'Nom',
    'clients.contacts.role': 'Rôle',
    'clients.contacts.email': 'Email',
    'clients.contacts.phone': 'Téléphone',
    'clients.contacts.none': 'Aucun contact ajouté',
    'clients.contacts.added': 'Contact ajouté avec succès',
    'clients.contacts.removed': 'Contact supprimé',
    'clients.contact_validation_error': 'Le nom et le rôle du contact sont obligatoires',
    
    // Financial information
    'clients.financial_summary': 'Résumé financier',
    'clients.financial_summary_desc': 'Aperçu des transactions avec ce client',
    'clients.total_invoiced': 'Total facturé',
    'clients.account_balance': 'Solde du compte',
    'clients.total_vat': 'Total TVA',
    'clients.no_invoices': 'Aucune facture pour ce client',
    'clients.no_quotes': 'Aucun devis pour ce client',
    'clients.no_payments': 'Aucun paiement pour ce client',
    
    // Payment methods
    'payment.methods.cash': 'Espèces',
    'payment.methods.bank': 'Virement bancaire',
    'payment.methods.check': 'Chèque',
    'payment.methods.other': 'Autre',
    
    // Navigation
    'common.back': 'Retour',
    
    // Forms
    'form.save': 'Enregistrer',
    'form.cancel': 'Annuler',
    'form.edit': 'Modifier',
    'form.delete': 'Supprimer',
    'form.view': 'Voir',
    'form.duplicate': 'Dupliquer',
    
    // Invoices
    'invoices.title': 'Factures',
    'invoices.create': 'Créer une facture',
    'invoices.number': 'N° Facture',
    'invoices.date': 'Date',
    'invoices.due_date': 'Date d\'échéance',
    'invoices.client': 'Client',
    'invoices.amount': 'Montant',
    'invoices.status': 'Statut',
    'invoices.actions': 'Actions',
    'invoices.paid': 'Payée',
    'invoices.partial': 'Partiel',
    'invoices.unpaid': 'Non payée',
    'invoices.overdue': 'En retard',
    'invoices.invoice_details': 'Détails de la facture',
    'invoices.invoice_number': 'Numéro de facture',
    'invoices.full_invoice_message': 'La vue complète de la facture sera disponible prochainement',
    'invoices.viewing': 'Consultation de la facture',
    'invoices.downloading': 'Téléchargement de la facture',
    'invoices.editing': 'Modification de la facture',
    'invoices.delete_confirmation': 'Êtes-vous sûr de vouloir supprimer la facture',
    'invoices.view_all_redirect': 'Voir toutes les factures',
    'invoices.create_message': 'La fonctionnalité de création de facture sera disponible prochainement',
    'invoices.draft': 'Brouillon',
    'invoices.sent': 'Envoyée',
    'invoices.cancelled': 'Annulée',
    'invoices.unknown_client': 'Client inconnu',
    'invoices.sending': 'Envoi de la facture',
    'invoices.mark_paid': 'Marquer comme payée',
    'invoices.marked_paid': 'Facture marquée comme payée',
    'invoices.deleting': 'Suppression de la facture',
    'invoices.no_results': 'Aucune facture ne correspond à votre recherche',
    'invoices.no_invoices': 'Aucune facture pour le moment',
    'invoices.view': 'Voir',
    'invoices.send': 'Envoyer',
    'invoices.edit': 'Modifier',
    'invoices.delete': 'Supprimer',
    'invoices.download': 'Télécharger',
    
    // Quotes
    'quotes.title': 'Devis',
    'quotes.description': 'Gérez vos devis et propositions commerciales',
    'quotes.add': 'Nouveau devis',
    'quotes.numberColumn': 'N° Devis',
    'quotes.clientColumn': 'Client',
    'quotes.dateColumn': 'Date',
    'quotes.expiryColumn': 'Validité',
    'quotes.totalColumn': 'Montant',
    'quotes.statusColumn': 'Statut',
    'quotes.actions': 'Actions',
    'quotes.unknownClient': 'Client inconnu',
    'quotes.search': 'Rechercher un devis',
    'quotes.noResults': 'Aucun devis ne correspond à votre recherche',
    'quotes.emptyState': 'Aucun devis pour le moment',
    'quotes.recentTitle': 'Devis récents',
    'quotes.draftStatus': 'Brouillons',
    'quotes.sentStatus': 'Envoyés',
    'quotes.acceptedStatus': 'Acceptés',
    'quotes.rejectedStatus': 'Refusés',
    'quotes.expiredStatus': 'Expirés',
    'quotes.convertedStatus': 'Convertis',
    'quotes.conversionRate': 'Taux de conversion',
    'quotes.filterStatus': 'Statut',
    'quotes.filterClient': 'Client',
    'quotes.filterDateRange': 'Période',
    'quotes.filterApply': 'Appliquer',
    'quotes.filterReset': 'Réinitialiser',
    'quotes.send': 'Envoyer',
    'quotes.convert': 'Convertir',
    'quotes.duplicate': 'Dupliquer',
    'quotes.editError': 'Modification impossible',
    'quotes.editErrorDesc': 'Seuls les devis en brouillon ou envoyés peuvent être modifiés',
    'quotes.sendError': 'Envoi impossible',
    'quotes.sendErrorDesc': 'Seuls les devis en brouillon ou envoyés peuvent être envoyés',
    'quotes.conversionError': 'Conversion impossible',
    'quotes.conversionErrorDesc': 'Seuls les devis acceptés peuvent être convertis en facture',
    'quotes.deleteError': 'Suppression impossible',
    'quotes.deleteErrorDesc': 'Les devis convertis en facture ne peuvent pas être supprimés',
    'quotes.createToast': 'Devis créé',
    'quotes.createToastDesc': 'Le devis a été créé avec succès',
    'quotes.updateToast': 'Devis modifié',
    'quotes.updateToastDesc': 'Le devis a été modifié avec succès',
    'quotes.duplicateToast': 'Devis dupliqué',
    'quotes.duplicateToastDesc': 'Le devis a été dupliqué à partir de',
    'quotes.deleteToast': 'Devis supprimé',
    'quotes.deleteToastDesc': 'Le devis a été supprimé',
    'quotes.sendSuccess': 'Devis envoyé',
    'quotes.sendSuccessDesc': 'Le devis a été envoyé par email',
    'quotes.convertSuccess': 'Devis converti',
    'quotes.convertSuccessDesc': 'Le devis a été converti en facture',
    'quotes.depositCreated': 'Facture d\'acompte créée',
    'quotes.depositCreatedDesc': 'Une facture d\'acompte a été créée pour un montant de',
    'quotes.deleteTitle': 'Confirmer la suppression',
    'quotes.deleteDescription': 'Vous êtes sur le point de supprimer le devis',
    'quotes.deleteWarning': 'Cette action est irréversible.',
    'quotes.sendTitle': 'Envoyer le devis',
    'quotes.sendDescription': 'Envoyer le devis par email au client',
    'quotes.emailTo': 'Destinataire',
    'quotes.emailCc': 'Copie (CC)',
    'quotes.emailSubject': 'Objet',
    'quotes.emailMessage': 'Message',
    'quotes.attachPdf': 'Joindre le devis au format PDF',
    'quotes.allStatus': 'Tous les statuts',
    'quotes.allClients': 'Tous les clients',
    'quotes.cardTitle': 'Liste des devis',
    
    // Payments
    'payments.title': 'Paiements',
    'payments.description': 'Gérez vos paiements et transactions',
    'payments.add': 'Ajouter un paiement',
    'payments.add_message': 'Fonctionnalité d\'ajout de paiement à venir',
    'payments.transaction_id': 'N° Transaction',
    'payments.invoice': 'Facture',
    'payments.date': 'Date',
    'payments.amount': 'Montant',
    'payments.method': 'Méthode',
    'payments.status': 'Statut',
    'payments.actions': 'Actions',
    'payments.view': 'Voir',
    'payments.view_invoice': 'Voir la facture',
    'payments.download_receipt': 'Télécharger le reçu',
    'payments.delete': 'Supprimer',
    'payments.search': 'Rechercher un paiement',
    'payments.no_results': 'Aucun paiement ne correspond à votre recherche',
    'payments.no_payments': 'Aucun paiement pour le moment',
    'payments.pending': 'En attente',
    'payments.completed': 'Terminé',
    'payments.failed': 'Échoué',
    'payments.refunded': 'Remboursé',
    'payments.cancelled': 'Annulé',
    'payments.select_format': 'Sélectionner un format',
    'payments.download_description': 'Choisissez le format de fichier pour télécharger le reçu',
    'payments.confirm_delete': 'Confirmer la suppression',
    'payments.delete_warning': 'Êtes-vous sûr de vouloir supprimer ce paiement? Cette action est irréversible.',
    'payments.deleted': 'Paiement supprimé:',
    'payments.downloaded': 'Reçu téléchargé:',
    'payments.payment_details': 'Détails du paiement',
    'payments.transaction': 'Transaction',
    'payments.payment_note': 'Note',
    'payments.no_note': 'Aucune note',
    
    // Products
    'products.title': 'Produits et services',
    'products.description': 'Gérez votre catalogue de produits et services',
    'products.add': 'Ajouter un produit',
    'products.search': 'Rechercher un produit',
    'products.nameColumn': 'Nom',
    'products.product_description': 'Description',
    'products.priceColumn': 'Prix',
    'products.vatColumn': 'TVA',
    'products.typeColumn': 'Type',
    'products.actions': 'Actions',
    'products.product': 'Produit',
    'products.service': 'Service',
    'products.noResults': 'Aucun produit trouvé',
    'products.emptyState': 'Aucun produit pour le moment',
    'products.cardTitle': 'Liste des produits',
    'products.viewToast': 'Voir le produit',
    'products.viewToastDesc': 'Vous consultez',
    'products.editToast': 'Modifier le produit',
    'products.editToastDesc': 'Vous modifiez',
    'products.duplicateToast': 'Dupliquer le produit',
    'products.duplicateToastDesc': 'Vous dupliquez',
    'products.deleteToast': 'Supprimer le produit',
    'products.deleteToastDesc': 'Vous supprimez',
    'products.addToast': 'Produit ajouté',
    'products.addToastDesc': 'Le produit a été ajouté avec succès',
    'products.name': 'Nom',
    'products.price': 'Prix',
    'products.priceTTC': 'Prix TTC',
    'products.vatRate': 'Taux de TVA',
    'products.category': 'Catégorie',
    'products.select_category': 'Sélectionner une catégorie',
    'products.unit': 'Unité',
    'products.select_unit': 'Sélectionner une unité',
    'products.units.piece': 'Pièce',
    'products.units.hour': 'Heure',
    'products.units.day': 'Jour',
    'products.units.kg': 'Kilogramme',
    'products.units.sqm': 'Mètre carré',
    'products.units.fixed': 'Forfait',
    'products.units.month': 'Mois',
    'products.minQuantity': 'Quantité minimale',
    'products.reference': 'Référence',
    'products.reference_placeholder': 'Référence interne ou code produit',
    'products.barcode': 'Code-barres',
    'products.barcode_placeholder': 'EAN, UPC, ou autre code-barres',
    'products.is_service': 'Est un service',
    'products.created_at': 'Créé le',
    'products.updated_at': 'Mis à jour le',
    'products.all_categories': 'Toutes les catégories',
    'products.export.button': 'Exporter',
    'products.export.success': 'Les produits ont été exportés avec succès',
    'products.created': 'Produit créé avec succès',
    'products.updated': 'Produit mis à jour avec succès',
    'products.deleted': 'Produit supprimé avec succès',
    'products.duplicated': 'Produit dupliqué avec succès',
    'products.copy': 'Copie',
    'products.add_category': 'Ajouter une catégorie',
    'products.category.add': 'Ajouter une catégorie',
    'products.category.edit': 'Modifier la catégorie',
    'products.category.add_description': 'Ajouter une nouvelle catégorie de produits ou services',
    'products.category.edit_description': 'Modifier les informations de la catégorie',
    'products.category.name': 'Nom de la catégorie',
    'products.category.description': 'Description de la catégorie',
    'products.category.created': 'Catégorie créée avec succès',
    'products.category.updated': 'Catégorie mise à jour avec succès',
    'products.discount.add': 'Ajouter une remise',
    'products.discount.edit': 'Modifier la remise',
    'products.discount.add_description': 'Ajouter une nouvelle remise pour {product}',
    'products.discount.edit_description': 'Modifier la remise pour {product}',
    'products.discount.name': 'Nom de la remise',
    'products.discount.name_placeholder': 'Ex: Remise fidélité, Promotion été',
    'products.discount.type': 'Type de remise',
    'products.discount.percentage': 'Pourcentage',
    'products.discount.fixed': 'Montant fixe',
    'products.discount.value': 'Valeur',
    'products.discount.percentage_hint': 'La valeur en pourcentage (0-100)',
    'products.discount.code': 'Code promo',
    'products.discount.code_placeholder': 'Ex: SUMMER2023',
    'products.discount.code_hint': 'Optionnel. Si défini, la remise sera appliquée uniquement avec le code',
    'products.discount.start_date': 'Date de début',
    'products.discount.end_date': 'Date de fin',
    'products.discount.select_date': 'Sélectionner une date',
    'products.discount.applies_to': 'S\'applique à',
    'products.discount.all_clients': 'Tous',
    'products.discount.client_category': 'Catégorie',
    'products.discount.specific_client': 'Client spécifique',
    'products.discount.select_client_category': 'Sélectionner une catégorie',
    'products.discount.select_client': 'Sélectionner un client',
    'products.discount.created': 'Remise créée avec succès',
    'products.discount.updated': 'Remise mise à jour avec succès',
    'products.discount.create_first': 'Créer votre première remise',
    'products.detail.info': 'Informations',
    'products.detail.pricing': 'Prix',
    'products.detail.discounts': 'Remises',
    'products.detail.basic_info': 'Informations de base',
    'products.detail.pricing_info': 'Informations de prix',
    'products.available_discounts': 'Remises disponibles',
    'products.multiple_discounts': '{count} remises disponibles',
    'products.discount_available': 'Remise disponible',
    'products.no_discounts': 'Aucune remise disponible',
    
    // Reports
    'reports.title': 'Rapports',
    'reports.description': 'Consultez vos rapports financiers',
    'reports.select_type': 'Sélectionner un type',
    'reports.types.sales': 'Ventes',
    'reports.types.clients': 'Clients',
    'reports.types.products': 'Produits',
    'reports.types.invoices': 'Factures',
    'reports.refresh': 'Actualiser',
    'reports.export': 'Exporter',
    'reports.share': 'Partager',
    'reports.sales_title': 'Rapport des ventes',
    'reports.clients_title': 'Rapport des clients',
    'reports.products_title': 'Rapport des produits',
    'reports.invoices_title': 'Rapport des factures',
    'reports.chart_placeholder': 'Le graphique sera affiché ici',
    'reports.summary_title': 'Résumé',
    'reports.summary_placeholder': 'Le résumé sera affiché ici',
    'reports.trends_title': 'Tendances',
    'reports.trends_placeholder': 'Les tendances seront affichées ici',
    
    // Settings
    'settings.title': 'Paramètres',
    'settings.description': 'Gérer les paramètres de votre compte',
    'settings.tabs.general': 'Général',
    'settings.tabs.notifications': 'Notifications',
    'settings.tabs.security': 'Sécurité',
    'settings.tabs.billing': 'Facturation',
    'settings.language.title': 'Langue',
    'settings.language.description': 'Sélectionnez votre langue préférée',
    'settings.theme.title': 'Thème',
    'settings.theme.description': 'Personnaliser l\'apparence de votre application',
    'settings.theme.darkMode': 'Mode sombre',
    'settings.notifications.title': 'Préférences de notification',
    'settings.notifications.description': 'Gérer comment vous recevez les notifications',
    'settings.notifications.email': 'Notifications par email',
    'settings.notifications.push': 'Notifications push',
    'settings.notifications.sms': 'Notifications SMS',
    'settings.security.title': 'Sécurité',
    'settings.security.description': 'Gérer la sécurité de votre compte',
    'settings.security.placeholder': 'Options de sécurité à venir',
    'settings.billing.title': 'Facturation',
    'settings.billing.description': 'Gérer vos informations de facturation',
    'settings.billing.placeholder': 'Options de facturation à venir',
    
    // Unauthorized
    'unauthorized.title': 'Accès non autorisé',
    'unauthorized.message': 'Vous n\'avez pas la permission d\'accéder à cette page.',
    'unauthorized.back': 'Retour au tableau de bord',
    
    // NotFound
    'notfound.title': 'Page non trouvée',
    'notfound.message': 'La page que vous recherchez n\'existe pas ou a été déplacée.',
    'notfound.back': 'Retour à l\'accueil',
    
    // Language
    'language.change': 'Changer de langue',
    'language.select': 'Langue / اللغة',
    
    // Common
    'common.search': 'Rechercher',
    'common.filter': 'Filtrer',
    'common.from': 'De',
    'common.to': 'À',
    'common.status': 'Statut',
    'common.actions': 'Actions',
    'common.all': 'Tous',
    'common.loading': 'Chargement...',
    'common.currency': 'MAD',
    'common.select': 'Sélectionner',
    'common.no_results': 'Aucun résultat',
    'common.close': 'Fermer',
    'common.view': 'Voir',
    'common.download': 'Télécharger',
    'common.edit': 'Modifier',
    'common.delete': 'Supprimer',
    'common.showing': 'Affichage de',
    'common.of': 'sur',
    'common.refresh': 'Actualiser',
    'common.view_all': 'Voir tout',
    'common.show_more': 'Afficher plus ({count})',
    'common.show_less': 'Afficher moins',
    'common.access_denied': 'Accès refusé',
    
    // Export
    'export.button': 'Exporter',
    'export.success': 'Export réussi',
    'export.error': 'Erreur d\'export',
    'export.downloading': 'Téléchargement en cours...',
    'export.select_format': 'Sélectionner le format',
    'export.all': 'Exporter tout',
    'export.selected': 'Exporter la sélection',
    'export.csv': 'CSV',
    'export.excel': 'Excel',
    'export.pdf': 'PDF',
    'delete.confirmation': 'Confirmer la suppression',
    'delete.warning': 'Cette action est irréversible.',
    'delete.success': 'Suppression réussie',
    'delete.error': 'Erreur de suppression',
    
    // Account
    'account.balance.title': 'Résumé du compte',
    'account.balance.invoices': 'Total des factures',
    'account.balance.payments': 'Total des paiements',
    'account.balance.balance': 'Solde actuel',
    'account.invoices.title': 'Historique des factures',
    'account.invoices.number': 'Numéro',
    'account.invoices.date': 'Date',
    'account.invoices.due_date': 'Échéance',
    'account.invoices.total': 'Montant',
    'account.invoices.status': 'Statut',
    'account.invoices.none': 'Aucune facture trouvée',
    'account.payments.title': 'Historique des paiements',
    'account.payments.date': 'Date',
    'account.payments.method': 'Méthode',
    'account.payments.reference': 'Référence',
    'account.payments.amount': 'Montant',
    'account.payments.status': 'Statut',
    'account.payments.none': 'Aucun paiement trouvé',
    'account.client.title': 'Fiche client',
    'account.client.details': 'Détails du client',
    'account.client.contact.title': 'Contacts',
    'account.client.contact.add': 'Ajouter un contact',
    'account.client.history': 'Historique et suivi',
    'account.client.activity': 'Activité récente',
    
    // Invoice status
    'invoice.status.draft': 'Brouillon',
    'invoice.status.sent': 'Envoyée',
    'invoice.status.paid': 'Payée',
    'invoice.status.partial': 'Partiellement payée',
    'invoice.status.overdue': 'En retard',
    'invoice.status.cancelled': 'Annulée',
    
    // Payment status
    'payment.status.pending': 'En attente',
    'payment.status.completed': 'Complété',
    'payment.status.failed': 'Échoué',
    'payment.status.refunded': 'Remboursé',
    
    // Add confirmation dialog translations
    'products.delete_confirmation_title': 'Supprimer le produit',
    'products.delete_confirmation_description': 'Êtes-vous sûr de vouloir supprimer ce produit ? Cette action ne peut pas être annulée.',
    'products.duplicate_confirmation_title': 'Dupliquer le produit',
    'products.description_label': 'Description',
    'stock.title': 'Gestion de stock',
    'stock.low_stock_items': 'Articles en stock faible',
    'stock.no_low_stock': 'Aucun article en stock faible',
    'stock.recent_movements': 'Mouvements récents',
    'stock.no_movements': 'Aucun mouvement récent',
    'stock.new_entry': 'Nouvelle entrée',
    'stock.new_exit': 'Nouvelle sortie',
    'stock.adjustment': 'Ajustement',
    'stock.new_inventory': 'Nouvel inventaire',
    'stock.movements': 'Mouvements de stock',
    'stock.stock_movements': 'Mouvements de stock',
    'stock.inventories': 'Inventaires',
    'stock.add_stock': 'Ajouter au stock',
    'stock.remove_stock': 'Retirer du stock',
    'stock.adjust_stock': 'Ajuster le stock',
    'stock.movement_description': 'Veuillez saisir les détails du mouvement de stock',
    'stock.add': 'Ajouter',
    'stock.remove': 'Retirer',
    'stock.adjust': 'Ajuster',
    'stock.location': 'Emplacement',
    'stock.select_location': 'Sélectionner un emplacement',
    'stock.quantity': 'Quantité',
    'stock.reason': 'Motif',
    'stock.reason_placeholder': 'Motif du mouvement de stock',
    'stock.reference': 'Référence',
    'stock.reference_placeholder': 'Référence externe (facultatif)',
    'stock.movement_created': 'Mouvement de stock créé',
    'stock.added_to': 'ajouté à',
    'stock.removed_from': 'retiré de',
    'stock.current_stock': 'Stock actuel',
    'stock.min_stock': 'Stock minimum',
    'stock.alert_stock': 'Stock d\'alerte',
    'stock.movement_type': 'Type de mouvement',
    'stock.previous_stock': 'Stock précédent',
    'stock.new_stock': 'Nouveau stock',
    'stock.movement_types.purchase': 'Achat',
    'stock.movement_types.sale': 'Vente',
    'stock.movement_types.return_customer': 'Retour client',
    'stock.movement_types.return_supplier': 'Retour fournisseur',
    'stock.movement_types.adjustment': 'Ajustement',
    'stock.movement_types.transfer': 'Transfert',
    'stock.movement_types.inventory': 'Inventaire',
    'validations.product_required': 'Le produit est requis',
    'validations.location_required': 'L\'emplacement est requis',
    'validations.quantity_positive': 'La quantité doit être positive',
    'validations.quantity_integer': 'La quantité doit être un nombre entier',
    
    // French translations
    'common.overview': 'Aperçu',
    'common.coming_soon': 'Bientôt disponible',
    'common.cancel': 'Annuler',
    'common.error': 'Erreur',
    'common.no_company_selected': 'Aucune entreprise sélectionnée',
    'products.select_product': 'Sélectionner un produit',
    'products.code': 'Code',
    
    // Arabic translations
    'common.overview': 'نظرة عامة',
    'common.coming_soon': 'قريباً',
    'common.cancel': 'إلغاء',
    'common.error': 'خطأ',
    'common.no_company_selected': 'لم يتم اختيار شركة',
    'products.select_product': 'اختيار منتج',
    'products.code': 'الرمز',
  },
  ar: {
    // Auth
    'login.title': 'تسجيل الدخول',
    'login.email': 'البريد الإلكتروني',
    'login.password': 'كلمة المرور',
    'login.role': 'الدور',
    'login.button': 'تسجيل الدخول',
    'login.remember': 'تذكرني',
    
    // Navigation
    'nav.dashboard': 'لوحة القيادة',
    'nav.clients': 'العملاء',
    'nav.products': 'المنتجات',
    'nav.invoices': 'الفواتير',
    'nav.quotes': 'عروض الأسعار',
    'nav.payments': 'المدفوعات',
    'nav.reports': 'التقارير',
    'nav.settings': 'الإعدادات',
    'nav.logout': 'تسجيل الخروج',
    'nav.stock': 'إدارة المخزون',
    
    // Dashboard
    'dashboard.title': 'لوحة القيادة',
    'dashboard.welcome': 'مرحبًا بك في المغرب بيل',
    'dashboard.total_sales': 'إجمالي المبيعات',
    'dashboard.pending_invoices': 'الفواتير المعلقة',
    'dashboard.overdue_invoices': 'الفواتير المتأخرة',
    'dashboard.paid_invoices': 'الفواتير المدفوعة',
    'dashboard.recent_activity': 'النشاط الأخير',
    'dashboard.monthly_revenue': 'الإيرادات الشهرية',
    'dashboard.top_clients': 'أفضل العملاء',
    'dashboard.data_refreshed': 'تم تحديث البيانات',
    'dashboard.refresh_success': 'تم تحديث بيانات لوحة القيادة',
    'dashboard.revenue_description': 'تتبع الإيرادات خلال الأشهر الأخيرة',
    'dashboard.revenue': 'الإيرادات',
    'dashboard.clients_description': 'العملاء الذين يولدون أكبر قدر من الإيرادات',
    'dashboard.activity_description': 'آخر الفواتير والمعاملات',
    
    // Clients
    'clients.title': 'العملاء',
    'clients.add': 'إضافة عميل',
    'clients.search': 'البحث عن عميل',
    'clients.name': 'الاسم',
    'clients.ice': 'ICE',
    'clients.if': 'IF',
    'clients.rc': 'RC',
    'clients.email': 'البريد الإلكتروني',
    'clients.phone': 'الهاتف',
    'clients.address': 'العنوان',
    'clients.city': 'المدينة',
    'clients.actions': 'الإجراءات',
    'clients.contact_name': 'اسم جهة الاتصال',
    'clients.company_name': 'الاسم التجاري',
    'clients.first_name': 'الاسم الأول',
    'clients.last_name': 'اسم العائلة',
    'clients.website': 'الموقع الإلكتروني',
    'clients.delivery_address': 'عنوان التسليم',
    'clients.postal_address': 'العنوان البريدي',
    'clients.add_address': 'إضافة عنوان',
    'clients.cnss': 'CNSS',
    'clients.legal_information': 'المعلومات القانونية والضريبية',
    'clients.general_information': 'المعلومات العامة للعميل',
    'clients.contacts': 'جهات الاتصال',
    'clients.add_contact': 'إضافة جهة اتصال',
    'clients.contact_role': 'الدور',
    'clients.contact_phone': 'الهاتف',
    'clients.contact_email': 'البريد الإلكتروني',
    'clients.payment_method': 'طريقة الدفع المفضلة',
    'clients.payment_terms': 'شروط الدفع',
    'clients.payment_terms.immediate': 'دفع فوري',
    'clients.payment_terms.15days': '15 يوم',
    'clients.payment_terms.30days': '30 يوم',
    'clients.payment_terms.60days': '60 يوم',
    'clients.payment_terms.90days': '90 يوم',
    'clients.payment_terms.custom': 'مخصص',
    'clients.installment_payment': 'دفع بالتقسيط',
    'clients.groups': 'مجموعات العملاء',
    'clients.groups.add': 'إضافة مجموعة',
    'clients.groups.edit': 'تعديل المجموعة',
    'clients.groups.delete': 'حذف المجموعة',
    'clients.groups.vip': 'كبار العملاء',
    'clients.groups.regular': 'عادي',
    'clients.groups.prospect': 'محتمل',
    'clients.groups.inactive': 'غير نشط',
    'clients.groups.add_to_group': 'إضافة إلى مجموعة',
    'clients.history': 'سجل العميل',
    'clients.history.invoices': 'الفواتير',
    'clients.history.quotes': 'عروض الأسعار',
    'clients.history.payments': 'المدفوعات',
    'clients.history.amount_paid': 'المبالغ المدفوعة',
    'clients.history.amount_due': 'المبالغ المستحقة',
    'clients.history.late_payments': 'المدفوعات المتأخرة',
    'clients.history.total_vat': 'إجمالي ضريبة القيمة المضافة',
    'clients.account_statement': 'كشف حساب العميل',
    'clients.account_statement.balance': 'الرصيد',
    'clients.account_statement.deposits': 'الدفعات المقدمة',
    'clients.account_statement.transactions': 'المعاملات',
    'clients.multi_company': 'متعدد الشركات',
    'clients.multi_company.switch': 'تبديل الشركة',
    'clients.multi_company.client_base': 'قاعدة العملاء',
    'clients.details': 'تفاصيل العميل',
    'clients.details_desc': 'عرض المعلومات الكاملة للعميل',
    'clients.add_description': 'إضافة عميل جديد إلى قاعدة البيانات الخاصة بك',
    'clients.validation_error': 'يرجى ملء جميع الحقول المطلوبة',
    'clients.added_success': 'تمت إضافة العميل بنجاح',
    'clients.editing': 'تعديل العميل',
    'clients.deleting': 'حذف العميل',
    'clients.updated_success': 'تم تحديث العميل بنجاح',
    'clients.deleted_success': 'تم حذف العميل بنجاح',
    'clients.export': 'تصدير العملاء',
    'clients.export_success': 'تم تصدير العملاء بنجاح',
    'clients.edit': 'تعديل العميل',
    'clients.edit_description': 'تعديل معلومات العميل',
    'clients.delete_confirmation': 'تأكيد الحذف',
    'clients.delete_warning': 'هل أنت متأكد من رغبتك في حذف هذا العميل؟ هذا الإجراء لا يمكن التراجع عنه.',
    'clients.no_results': 'لم يتم العثور على عملاء',
    'clients.no_clients': 'لا يوجد عملاء متاحين',
    'clients.viewing': 'عرض العميل',
    'clients.not_found': 'العميل غير موجود',
    'clients.legal_info': 'المعلومات القانونية',
    'clients.contact_info': 'معلومات الاتصال',
    'clients.payment_info': 'معلومات الدفع',
    'clients.category.label': 'الفئة',
    'clients.category.select': 'اختر الفئة',
    'clients.category.all': 'الكل',
    'clients.category.VIP': 'كبار العملاء',
    'clients.category.regular': 'عادي',
    'clients.category.prospect': 'محتمل',
    'clients.preferredPaymentMethod': 'طريقة الدفع المفضلة',
    'clients.payment_select': 'اختر طريقة الدفع',
    'clients.paymentTerms': 'شروط الدفع',
    'clients.payment': 'الدفع',
    'clients.terms': 'الشروط',
    
    // Contacts management
    'clients.contacts.title': 'جهات الاتصال',
    'clients.contacts.add': 'إضافة جهة اتصال',
    'clients.contacts.new': 'جهة اتصال جديدة',
    'clients.contacts.name': 'الاسم',
    'clients.contacts.role': 'الدور',
    'clients.contacts.email': 'البريد الإلكتروني',
    'clients.contacts.phone': 'الهاتف',
    'clients.contacts.none': 'لم تتم إضافة جهات اتصال',
    'clients.contacts.added': 'تمت إضافة جهة الاتصال بنجاح',
    'clients.contacts.removed': 'تمت إزالة جهة الاتصال',
    'clients.contact_validation_error': 'اسم ودور جهة الاتصال مطلوبان',
    
    // Financial information
    'clients.financial_summary': 'الملخص المالي',
    'clients.financial_summary_desc': 'نظرة عامة على المعاملات مع هذا العميل',
    'clients.total_invoiced': 'إجمالي الفواتير',
    'clients.account_balance': 'رصيد الحساب',
    'clients.total_vat': 'إجمالي ضريبة القيمة المضافة',
    'clients.no_invoices': 'لا توجد فواتير لهذا العميل',
    'clients.no_quotes': 'لا توجد عروض أسعار لهذا العميل',
    'clients.no_payments': 'لا توجد مدفوعات لهذا العميل',
    
    // Payment methods
    'payment.methods.cash': 'نقدا',
    'payment.methods.bank': 'تحويل بنكي',
    'payment.methods.check': 'شيك',
    'payment.methods.other': 'أخرى',
    
    // Navigation
    'common.back': 'رجوع',
    
    // Forms
    'form.save': 'حفظ',
    'form.cancel': 'إلغاء',
    'form.edit': 'تعديل',
    'form.delete': 'حذف',
    'form.view': 'عرض',
    'form.duplicate': 'نسخ',
    
    // Invoices
    'invoices.title': 'الفواتير',
    'invoices.create': 'إنشاء فاتورة',
    'invoices.number': 'رقم الفاتورة',
    'invoices.date': 'التاريخ',
    'invoices.due_date': 'تاريخ الاستحقاق',
    'invoices.client': 'العميل',
    'invoices.amount': 'المبلغ',
    'invoices.status': 'الحالة',
    'invoices.actions': 'الإجراءات',
    'invoices.paid': 'مدفوعة',
    'invoices.partial': 'مدفوعة جزئيًا',
    'invoices.unpaid': 'غير مدفوعة',
    'invoices.overdue': 'متأخرة',
    'invoices.invoice_details': 'تفاصيل الفاتورة',
    'invoices.invoice_number': 'رقم الفاتورة',
    'invoices.full_invoice_message': 'ستكون العرض الكامل للفاتورة متاحًا قريبًا',
    'invoices.viewing': 'عرض الفاتورة',
    'invoices.downloading': 'تنزيل الفاتورة',
    'invoices.editing': 'تعديل الفاتورة',
    'invoices.delete_confirmation': 'هل أنت متأكد من رغبتك في حذف الفاتورة',
    'invoices.view_all_redirect': 'عرض جميع الفواتير',
    'invoices.create_message': 'ستكون ميزة إنشاء الفاتورة متاحة قريبًا',
    'invoices.draft': 'مسودة',
    'invoices.sent': 'مرسلة',
    'invoices.cancelled': 'ملغاة',
    'invoices.unknown_client': 'عميل غير معروف',
    'invoices.sending': 'إرسال الفاتورة',
    'invoices.mark_paid': 'تعيين كمدفوعة',
    'invoices.marked_paid': 'تم تعيين الفاتورة كمدفوعة',
    'invoices.deleting': 'حذف الفاتورة',
    'invoices.no_results': 'لا توجد فواتير تطابق بحثك',
    'invoices.no_invoices': 'لا توجد فواتير حتى الآن',
    'invoices.view': 'عرض',
    'invoices.send': 'إرسال',
    'invoices.edit': 'تعديل',
    'invoices.delete': 'حذف',
    'invoices.download': 'تنزيل',
    
    // Quotes
    'quotes.title': 'عروض الأسعار',
    'quotes.description': 'إدارة عروض الأسعار والمقترحات التجارية',
    'quotes.add': 'عرض سعر جديد',
    'quotes.numberColumn': 'رقم العرض',
    'quotes.clientColumn': 'العميل',
    'quotes.dateColumn': 'التاريخ',
    'quotes.expiryColumn': 'الصلاحية',
    'quotes.totalColumn': 'المبلغ',
    'quotes.statusColumn': 'الحالة',
    'quotes.actions': 'الإجراءات',
    'quotes.unknownClient': 'عميل غير معروف',
    'quotes.search': 'البحث عن عرض',
    'quotes.noResults': 'لا توجد عروض تطابق بحثك',
    'quotes.emptyState': 'لا توجد عروض حتى الآن',
    'quotes.recentTitle': 'العروض الأخيرة',
    'quotes.draftStatus': 'المسودات',
    'quotes.sentStatus': 'المرسلة',
    'quotes.acceptedStatus': 'المقبولة',
    'quotes.rejectedStatus': 'المرفوضة',
    'quotes.expiredStatus': 'المنتهية',
    'quotes.convertedStatus': 'المحولة',
    'quotes.conversionRate': 'معدل التحويل',
    'quotes.filterStatus': 'الحالة',
    'quotes.filterClient': 'العميل',
    'quotes.filterDateRange': 'الفترة',
    'quotes.filterApply': 'تطبيق',
    'quotes.filterReset': 'إعادة تعيين',
    'quotes.send': 'إرسال',
    'quotes.convert': 'تحويل',
    'quotes.duplicate': 'نسخ',
    'quotes.editError': 'لا يمكن التعديل',
    'quotes.editErrorDesc': 'يمكن تعديل العروض في حالة المسودة أو المرسلة فقط',
    'quotes.sendError': 'لا يمكن الإرسال',
    'quotes.sendErrorDesc': 'يمكن إرسال العروض في حالة المسودة أو المرسلة فقط',
    'quotes.conversionError': 'لا يمكن التحويل',
    'quotes.conversionErrorDesc': 'يمكن تحويل العروض المقبولة فقط إلى فواتير',
    'quotes.deleteError': 'لا يمكن الحذف',
    'quotes.deleteErrorDesc': 'لا يمكن حذف العروض المحولة إلى فواتير',
    'quotes.createToast': 'تم إنشاء العرض',
    'quotes.createToastDesc': 'تم إنشاء عرض السعر بنجاح',
    'quotes.updateToast': 'تم تحديث العرض',
    'quotes.updateToastDesc': 'تم تحديث عرض السعر بنجاح',
    'quotes.duplicateToast': 'تم نسخ العرض',
    'quotes.duplicateToastDesc': 'تم نسخ العرض من',
    'quotes.deleteToast': 'تم حذف العرض',
    'quotes.deleteToastDesc': 'تم حذف عرض السعر',
    'quotes.sendSuccess': 'تم إرسال العرض',
    'quotes.sendSuccessDesc': 'تم إرسال عرض السعر بالبريد الإلكتروني',
    'quotes.convertSuccess': 'تم تحويل العرض',
    'quotes.convertSuccessDesc': 'تم تحويل عرض السعر إلى فاتورة',
    'quotes.depositCreated': 'تم إنشاء فاتورة دفعة مقدمة',
    'quotes.depositCreatedDesc': 'تم إنشاء فاتورة دفعة مقدمة بمبلغ',
    'quotes.deleteTitle': 'تأكيد الحذف',
    'quotes.deleteDescription': 'أنت على وشك حذف عرض السعر',
    'quotes.deleteWarning': 'هذا الإجراء لا يمكن التراجع عنه.',
    'quotes.sendTitle': 'إرسال عرض السعر',
    'quotes.sendDescription': 'إرسال عرض السعر بالبريد الإلكتروني إلى العميل',
    'quotes.emailTo': 'المستلم',
    'quotes.emailCc': 'نسخة (CC)',
    'quotes.emailSubject': 'الموضوع',
    'quotes.emailMessage': 'الرسالة',
    'quotes.attachPdf': 'إرفاق عرض السعر بصيغة PDF',
    'quotes.allStatus': 'جميع الحالات',
    'quotes.allClients': 'جميع العملاء',
    'quotes.cardTitle': 'قائمة عروض الأسعار',
    
    // Payments
    'payments.title': 'المدفوعات',
    'payments.description': 'إدارة المدفوعات والمعاملات',
    'payments.add': 'إضافة دفعة',
    'payments.add_message': 'ميزة إضافة الدفع قادمة قريبًا',
    'payments.transaction_id': 'رقم المعاملة',
    'payments.invoice': 'الفاتورة',
    'payments.date': 'التاريخ',
    'payments.amount': 'المبلغ',
    'payments.method': 'الطريقة',
    'payments.status': 'الحالة',
    'payments.actions': 'الإجراءات',
    'payments.view': 'عرض',
    'payments.view_invoice': 'عرض الفاتورة',
    'payments.download_receipt': 'تنزيل الإيصال',
    'payments.delete': 'حذف',
    'payments.search': 'البحث عن دفعة',
    'payments.no_results': 'لا توجد مدفوعات تطابق بحثك',
    'payments.no_payments': 'لا توجد مدفوعات حتى الآن',
    'payments.pending': 'قيد الانتظار',
    'payments.completed': 'مكتمل',
    'payments.failed': 'فشل',
    'payments.refunded': 'مسترد',
    'payments.cancelled': 'ملغي',
    'payments.select_format': 'اختر تنسيق',
    'payments.download_description': 'اختر تنسيق الملف لتنزيل الإيصال',
    'payments.confirm_delete': 'تأكيد الحذف',
    'payments.delete_warning': 'هل أنت متأكد من رغبتك في حذف هذه الدفعة؟ هذا الإجراء لا يمكن التراجع عنه.',
    'payments.deleted': 'تم حذف الدفعة:',
    'payments.downloaded': 'تم تنزيل الإيصال:',
    'payments.payment_details': 'تفاصيل الدفعة',
    'payments.transaction': 'المعاملة',
    'payments.payment_note': 'ملاحظة',
    'payments.no_note': 'لا توجد ملاحظة',
    
    // Products
    'products.title': 'المنتجات والخدمات',
    'products.description': 'إدارة كتالوج المنتجات والخدمات الخاص بك',
    'products.add': 'إضافة منتج',
    'products.search': 'البحث عن منتج',
    'products.nameColumn': 'الاسم',
    'products.product_description': 'الوصف',
    'products.priceColumn': 'السعر',
    'products.vatColumn': 'ضريبة القيمة المضافة',
    'products.typeColumn': 'النوع',
    'products.actions': 'الإجراءات',
    'products.product': 'منتج',
    'products.service': 'خدمة',
    'products.noResults': 'لم يتم العثور على منتجات',
    'products.emptyState': 'لا توجد منتجات حتى الآن',
    'products.cardTitle': 'قائمة المنتجات',
    'products.viewToast': 'عرض المنتج',
    'products.viewToastDesc': 'أنت تعرض',
    'products.editToast': 'تعديل المنتج',
    'products.editToastDesc': 'أنت تعدل',
    'products.duplicateToast': 'نسخ المنتج',
    'products.duplicateToastDesc': 'أنت تنسخ',
    'products.deleteToast': 'حذف المنتج',
    'products.deleteToastDesc': 'أنت تحذف',
    'products.addToast': 'تمت إضافة المنتج',
    'products.addToastDesc': 'تمت إضافة المنتج بنجاح',
    'products.name': 'الاسم',
    'products.price': 'السعر',
    'products.priceTTC': 'السعر متضمن الضريبة',
    'products.vatRate': 'نسبة الضريبة',
    'products.category': 'الفئة',
    'products.select_category': 'اختر الفئة',
    'products.unit': 'وحدة',
    'products.select_unit': 'اختر الوحدة',
    'products.units.piece': 'قطعة',
    'products.units.hour': 'ساعة',
    'products.units.day': 'يوم',
    'products.units.kg': 'كيلوغرام',
    'products.units.sqm': 'متر مربع',
    'products.units.fixed': 'ثابت',
    'products.units.month': 'شهر',
    'products.minQuantity': 'الكمية الدنيا',
    'products.reference': 'المرجع',
    'products.reference_placeholder': 'المرجع الداخلي أو رمز المنتج',
    'products.barcode': 'الباركود',
    'products.barcode_placeholder': 'EAN، UPC، أو رمز آخر',
    'products.is_service': 'خدمة',
    'products.created_at': 'تم الإنشاء في',
    'products.updated_at': 'تم التحديث في',
    'products.all_categories': 'جميع الفئات',
    'products.export.button': 'تصدير',
    'products.export.success': 'تم تصدير المنتجات بنجاح',
    'products.created': 'تم إنشاء المنتج بنجاح',
    'products.updated': 'تم تحديث المنتج بنجاح',
    'products.select_category': 'Sélectionner une catégorie',
    'products.unit': 'Unité',
    'products.select_unit': 'Sélectionner une unité',
    'products.units.piece': 'Pièce',
    'products.units.hour': 'Heure',
    'products.units.day': 'Jour',
    'products.units.kg': 'Kilogramme',
    'products.units.sqm': 'Mètre carré',
    'products.units.fixed': 'Forfait',
    'products.units.month': 'Mois',
    'products.minQuantity': 'Quantité minimale',
    'products.reference': 'Référence',
    'products.reference_placeholder': 'Référence interne ou code produit',
    'products.barcode': 'Code-barres',
    'products.barcode_placeholder': 'EAN, UPC, ou autre code-barres',
    'products.is_service': 'Est un service',
    'products.created_at': 'Créé le',
    'products.updated_at': 'Mis à jour le',
    'products.all_categories': 'Toutes les catégories',
    'products.export.button': 'Exporter',
    'products.export.success': 'Les produits ont été exportés avec succès',
    'products.created': 'Produit créé avec succès',
    'products.updated': 'Produit mis à jour avec succès',
    'products.deleted': 'Produit supprimé avec succès',
    'products.duplicated': 'Produit dupliqué avec succès',
    'products.copy': 'Copie',
    'products.add_category': 'Ajouter une catégorie',
    'products.category.add': 'Ajouter une catégorie',
    'products.category.edit': 'Modifier la catégorie',
    'products.category.add_description': 'Ajouter une nouvelle catégorie de produits ou services',
    'products.category.edit_description': 'Modifier les informations de la catégorie',
    'products.category.name': 'Nom de la catégorie',
    'products.category.description': 'Description de la catégorie',
    'products.category.created': 'Catégorie créée avec succès',
    'products.category.updated': 'Catégorie mise à jour avec succès',
    'products.discount.add': 'Ajouter une remise',
    'products.discount.edit': 'Modifier la remise',
    'products.discount.add_description': 'Ajouter une nouvelle remise pour {product}',
    'products.discount.edit_description': 'Modifier la remise pour {product}',
    'products.discount.name': 'Nom de la remise',
    'products.discount.name_placeholder': 'Ex: Remise fidélité, Promotion été',
    'products.discount.type': 'Type de remise',
    'products.discount.percentage': 'Pourcentage',
    'products.discount.fixed': 'Montant fixe',
    'products.discount.value': 'Valeur',
    'products.discount.percentage_hint': 'La valeur en pourcentage (0-100)',
    'products.discount.code': 'Code promo',
    'products.discount.code_placeholder': 'Ex: SUMMER2023',
    'products.discount.code_hint': 'Optionnel. Si défini, la remise sera appliquée uniquement avec le code',
    'products.discount.start_date': 'Date de début',
    'products.discount.end_date': 'Date de fin',
    'products.discount.select_date': 'Sélectionner une date',
    'products.discount.applies_to': 'S\'applique à',
    'products.discount.all_clients': 'Tous',
    'products.discount.client_category': 'Catégorie',
    'products.discount.specific_client': 'Client spécifique',
    'products.discount.select_client_category': 'Sélectionner une catégorie',
    'products.discount.select_client': 'Sélectionner un client',
    'products.discount.created': 'Remise créée avec succès',
    'products.discount.updated': 'Remise mise à jour avec succès',
    'products.discount.create_first': 'Créer votre première remise',
    'products.detail.info': 'Informations',
    'products.detail.pricing': 'Prix',
    'products.detail.discounts': 'Remises',
    'products.detail.basic_info': 'Informations de base',
    'products.detail.pricing_info': 'Informations de prix',
    'products.available_discounts': 'Remises disponibles',
    'products.multiple_discounts': '{count} remises disponibles',
    'products.discount_available': 'Remise disponible',
    'products.no_discounts': 'Aucune remise disponible',
    
    // Reports
    'reports.title': 'التقارير',
    'reports.description': 'استعراض التقارير المالية',
    'reports.select_type': 'اختر نوع التقرير',
    'reports.types.sales': 'المبيعات',
    'reports.types.clients': 'العملاء',
    'reports.types.products': 'المنتجات',
    'reports.types.invoices': 'الفواتير',
    'reports.refresh': 'تحديث',
    'reports.export': 'تصدير',
    'reports.share': 'مشاركة',
    'reports.sales_title': 'تقرير المبيعات',
    'reports.clients_title': 'تقرير العملاء',
    'reports.products_title': 'تقرير المنتجات',
    'reports.invoices_title': 'تقرير الفواتير',
    'reports.chart_placeholder': 'سيتم عرض الرسم البياني هنا',
    'reports.summary_title': 'ملخص',
    'reports.summary_placeholder': 'سيتم عرض الملخص هنا',
    'reports.trends_title': 'اتجاهات',
    'reports.trends_placeholder': 'سيتم عرض الاتجاهات هنا',
    
    // Settings
    'settings.title': 'الإعدادات',
    'settings.description': 'إدارة إعدادات حسابك',
    'settings.tabs.general': 'عام',
    'settings.tabs.notifications': 'الإشعارات',
    'settings.tabs.security': 'الأمان',
    'settings.tabs.billing': 'الفواتير',
    'settings.language.title': 'اللغة',
    'settings.language.description': 'اختر لغتك المفضلة',
    'settings.theme.title': 'المظهر',
    'settings.theme.description': 'تخصيص مظهر التطبيق',
    'settings.theme.darkMode': 'الوضع الداكن',
    'settings.notifications.title': 'تفضيلات الإشعارات',
    'settings.notifications.description': 'إدارة كيفية تلقي الإشعارات',
    'settings.notifications.email': 'إشعارات البريد الإلكتروني',
    'settings.notifications.push': 'إشعارات الدفع',
    'settings.notifications.sms': 'إشعارات الرسائل القصيرة',
    'settings.security.title': 'الأمان',
    'settings.security.description': 'إدارة أمان حسابك',
    'settings.security.placeholder': 'خيارات الأمان قادمة قريباً',
    'settings.billing.title': 'الفواتير',
    'settings.billing.description': 'إدارة معلومات الفواتير',
    'settings.billing.placeholder': 'خيارات الفواتير قادمة قريباً',
    
    // Unauthorized
    'unauthorized.title': 'غير مصرح به',
    'unauthorized.message': 'ليس لديك إذن للوصول إلى هذه الصفحة.',
    'unauthorized.back': 'العودة إلى لوحة التحكم',
    
    // NotFound
    'notfound.title': 'الصفحة غير موجودة',
    'notfound.message': 'الصفحة التي تبحث عنها غير موجودة أو تم نقلها.',
    'notfound.back': 'العودة إلى الصفحة الرئيسية',
    
    // Language
    'language.change': 'تغيير اللغة',
    'language.select': 'Langue / اللغة',
    
    // Common
    'common.search': 'بحث',
    'common.filter': 'تصفية',
    'common.from': 'من',
    'common.to': 'إلى',
    'common.status': 'الحالة',
    'common.actions': 'الإجراءات',
    'common.all': 'الكل',
    'common.loading': 'جاري التحميل...',
    'common.currency': 'درهم',
    'common.select': 'اختر',
    'common.no_results': 'لا توجد نتائج',
    'common.close': 'إغلاق',
    'common.view': 'عرض',
    'common.download': 'تنزيل',
    'common.edit': 'تعديل',
    'common.delete': 'حذف',
    'common.showing': 'عرض',
    'common.of': 'من',
    'common.refresh': 'تحديث',
    'common.view_all': 'عرض الكل',
    'common.show_more': 'عرض المزيد ({count})',
    'common.show_less': 'عرض أقل',
    'common.access_denied': 'تم رفض الوصول',
    
    // Export
    'export.button': 'تصدير',
    'export.success': 'تم التصدير بنجاح',
    'export.error': 'خطأ في التصدير',
    'export.downloading': 'جاري التنزيل...',
    'export.select_format': 'اختر التنسيق',
    'export.all': 'تصدير الكل',
    'export.selected': 'تصدير المحدد',
    'export.csv': 'CSV',
    'export.excel': 'Excel',
    'export.pdf': 'PDF',
    'delete.confirmation': 'تأكيد الحذف',
    'delete.warning': 'هذا الإجراء لا يمكن التراجع عنه.',
    'delete.success': 'تم الحذف بنجاح',
    'delete.error': 'خطأ في الحذف',
    
    // Account
    'account.balance.title': 'ملخص الحساب',
    'account.balance.invoices': 'إجمالي الفواتير',
    'account.balance.payments': 'إجمالي المدفوعات',
    'account.balance.balance': 'الرصيد الحالي',
    'account.invoices.title': 'سجل الفواتير',
    'account.invoices.number': 'الرقم',
    'account.invoices.date': 'التاريخ',
    'account.invoices.due_date': 'تاريخ الاستحقاق',
    'account.invoices.total': 'المبلغ',
    'account.invoices.status': 'الحالة',
    'account.invoices.none': 'لم يتم العثور على فواتير',
    'account.payments.title': 'سجل المدفوعات',
    'account.payments.date': 'التاريخ',
    'account.payments.method': 'الطريقة',
    'account.payments.reference': 'المرجع',
    'account.payments.amount': 'المبلغ',
    'account.payments.status': 'الحالة',
    'account.payments.none': 'لم يتم العثور على مدفوعات',
    'account.client.title': 'بطاقة العميل',
    'account.client.details': 'تفاصيل العميل',
    'account.client.contact.title': 'جهات الاتصال',
    'account.client.contact.add': 'إضافة جهة اتصال',
    'account.client.history': 'السجل والمتابعة',
    'account.client.activity': 'النشاط الأخير',
    
    // Invoice status
    'invoice.status.draft': 'مسودة',
    'invoice.status.sent': 'مرسلة',
    'invoice.status.paid': 'مدفوعة',
    'invoice.status.partial': 'مدفوعة جزئيًا',
    'invoice.status.overdue': 'متأخرة',
    'invoice.status.cancelled': 'ملغاة',
    
    // Payment status
    'payment.status.pending': 'قيد الانتظار',
    'payment.status.completed': 'مكتملة',
    'payment.status.failed': 'فاشلة',
    'payment.status.refunded': 'مستردة',
    
    // Add confirmation dialog translations
    'products.delete_confirmation_title': 'Supprimer le produit',
    'products.delete_confirmation_description': 'Êtes-vous sûr de vouloir supprimer ce produit ? Cette action ne peut pas être annulée.',
    'products.duplicate_confirmation_title': 'Dupliquer le produit',
    'products.description_label': 'Description',
    'stock.title': 'إدارة المخزون',
    'stock.low_stock_items': 'المنتجات منخفضة المخزون',
    'stock.no_low_stock': 'لا توجد منتجات منخفضة المخزون',
    'stock.recent_movements': 'الحركات الأخيرة',
    'stock.no_movements': 'لا توجد حركات حديثة',
    'stock.new_entry': 'إدخال جديد',
    'stock.new_exit': 'إخراج جديد',
    'stock.adjustment': 'تعديل',
    'stock.new_inventory': 'جرد جديد',
    'stock.movements': 'حركات المخزون',
    'stock.stock_movements': 'حركات المخزون',
    'stock.inventories': 'عمليات الجرد',
    'stock.add_stock': 'إضافة للمخزون',
    'stock.remove_stock': 'سحب من المخزون',
    'stock.adjust_stock': 'تعديل المخزون',
    'stock.movement_description': 'يرجى إدخال تفاصيل حركة المخزون',
    'stock.add': 'إضافة',
    'stock.remove': 'سحب',
    'stock.adjust': 'تعديل',
    'stock.location': 'الموقع',
    'stock.select_location': 'اختر الموقع',
    'stock.quantity': 'الكمية',
    'stock.reason': 'السبب',
    'stock.reason_placeholder': 'سبب حركة المخزون',
    'stock.reference': 'المرجع',
    'stock.reference_placeholder': 'مرجع خارجي (اختياري)',
    'stock.movement_created': 'تم إنشاء حركة المخزون',
    'stock.added_to': 'تمت إضافته إلى',
    'stock.removed_from': 'تم سحبه من',
    'stock.current_stock': 'المخزون الحالي',
    'stock.min_stock': 'الحد الأدنى للمخزون',
    'stock.alert_stock': 'مستوى التنبيه',
    'stock.movement_type': 'نوع الحركة',
    'stock.previous_stock': 'المخزون السابق',
    'stock.new_stock': 'المخزون الجديد',
    'stock.movement_types.purchase': 'شراء',
    'stock.movement_types.sale': 'بيع',
    'stock.movement_types.return_customer': 'إرجاع من العميل',
    'stock.movement_types.return_supplier': 'إرجاع للمورد',
    'stock.movement_types.adjustment': 'تعديل',
    'stock.movement_types.transfer': 'نقل',
    'stock.movement_types.inventory': 'جرد',
    'validations.product_required': 'المنتج مطلوب',
    'validations.location_required': 'الموقع مطلوب',
    'validations.quantity_positive': 'يجب أن تكون الكمية موجبة',
    'validations.quantity_integer': 'يجب أن تكون الكمية عددًا صحيحًا',
  }
};

export const LanguageProvider: React.FC<LanguageProviderProps> = ({ children }) => {
  const [language, setLanguageState] = useState<Language>(() => {
    const savedLanguage = localStorage.getItem('language');
    return (savedLanguage as Language) || 'fr';
  });

  useEffect(() => {
    localStorage.setItem('language', language);
    // Add RTL support for Arabic
    document.documentElement.dir = language === 'ar' ? 'rtl' : 'ltr';
    document.documentElement.lang = language;
    
    if (language === 'ar') {
      document.body.classList.add('rtl');
    } else {
      document.body.classList.remove('rtl');
    }
  }, [language]);

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
  };

  const t = (key: string): string => {
    return translations[language][key] || key;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = (): LanguageContextType => {
  const context = useContext(LanguageContext);
  if (context === undefined) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
